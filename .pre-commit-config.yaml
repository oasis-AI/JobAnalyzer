repos:
  # åŸºç¡€é€šç”¨æ£€æŸ¥
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v4.5.0  # å‡çº§åˆ°æœ€æ–°ç¨³å®šç‰ˆ
    hooks:
      # æ£€æŸ¥ TOML æ–‡ä»¶çš„æ ¼å¼
      - id: check-toml
      # æ£€æŸ¥ YAML æ–‡ä»¶çš„æ ¼å¼
      - id: check-yaml
        args:
          - --unsafe
      # ç¡®ä¿æ–‡ä»¶ä»¥ç©ºè¡Œç»“å°¾
      - id: end-of-file-fixer
      # ç§»é™¤è¡Œå°¾çš„å¤šä½™ç©ºæ ¼
      - id: trailing-whitespace
      # é˜»æ­¢å¤§æ–‡ä»¶æäº¤
      - id: check-added-large-files
        # é™åˆ¶æ–‡ä»¶å¤§å° 1MB
        args: [--maxkb=1024]
      # æ£€æŸ¥æ–‡ä»¶åæ˜¯å¦å­˜åœ¨å¤§å°å†™å†²çª
      - id: check-case-conflict
      # æ£€æŸ¥å‡½æ•°æˆ–ç±»çš„ç¬¬ä¸€ä¸ªè¯­å¥æ˜¯å¦ä¸ºæ–‡æ¡£å­—ç¬¦ä¸²ï¼ˆdocstringï¼‰ã€‚
      - id: check-docstring-first
      # æ£€æŸ¥ä»£ç ä¸­æ˜¯å¦å­˜åœ¨åˆå¹¶å†²çªæ ‡è®°ã€‚
      - id: check-merge-conflict
      # ä¿®å¤æ–‡ä»¶ä¸­çš„å­—èŠ‚é¡ºåºæ ‡è®°ï¼ˆBOMï¼‰ã€‚
      - id: fix-byte-order-marker
      # ä¿®å¤æ··åˆçš„è¡Œå°¾ç¬¦ï¼Œå‚æ•° --fix=lf æŒ‡å®šå°†è¡Œå°¾ç¬¦ç»Ÿä¸€ä¸º LFï¼ˆæ¢è¡Œç¬¦ï¼‰ã€‚
      - id: mixed-line-ending
        args:
          - --fix=lf

  # é¡¹ç›®ç®¡ç†ï¼ˆuv é›†æˆï¼‰
  - repo: https://github.com/astral-sh/uv-pre-commit
    # uv version.
    rev: 0.5.25
    hooks:
      # ä½¿ç”¨ uv-lock é’©å­æ¥ç®¡ç†ä¾èµ–é”å®š
      - id: uv-lock
        # è‡ªåŠ¨åŒæ­¥ pyproject.toml å’Œ uv.lock
        # args: [ --sync ]

  # # ä½¿ç”¨ Ruff æ›¿ä»£ flake8/isort/blackï¼ˆç°ä»£åŒ–å·¥å…·ï¼‰
  # - repo: https://github.com/astral-sh/ruff-pre-commit
  #   # Ruff version.
  #   rev: v0.9.4
  #   hooks:
  #     # è¿è¡Œ linter æ¥æ£€æŸ¥ä»£ç 
  #     - id: ruff
  #       args: [ --fix, --exit-non-zero-on-fix ]  # è‡ªåŠ¨ä¿®å¤é—®é¢˜
  #       # # æ’é™¤ç›®å½•ç¤ºä¾‹ï¼ˆæŒ‰éœ€ä¿®æ”¹ï¼‰
  #       # exclude: ^(tests|examples)/

  #     # ä½¿ç”¨ ruff æ ¼å¼åŒ–ä»£ç 
  #     - id: ruff-format  # æ ¼å¼åŒ–å·¥å…·ï¼ˆæ›¿ä»£ blackï¼‰
  #       # args: [ --line-length=120 ]  # è®¾ç½®è¡Œé•¿åº¦

  - repo: local
    hooks:
      # ä½¿ç”¨ ruff æ ¼å¼åŒ–ä»£ç 
      - id: ruff-format
        name: ruff format
        language: system
        entry: ruff
        args: [format]

        pass_filenames: false

      - id: ruff-lint
        name: ruff lint and fix
        language: system
        entry: ruff
        args: [check, --fix, --exit-non-zero-on-fix, .]
        pass_filenames: false

  # Commit ä¿¡æ¯è§„èŒƒï¼ˆå¯é€‰ï¼‰
  - repo: https://github.com/commitizen-tools/commitizen
    rev: v3.15.0
    hooks:
      - id: commitizen
        stages: [commit-msg]  # æ ¡éªŒ commit æ ¼å¼

  # # ç±»å‹æ£€æŸ¥ï¼ˆå¯é€‰ï¼‰
  # - repo: https://github.com/pre-commit/mirrors-mypy
  #   rev: v1.9.0  # mypy æœ€æ–°ç‰ˆ
  #   hooks:
  #     - id: mypy
  #       args: [--ignore-missing-imports]
  #       files: \.py$
  #       # æ’é™¤æµ‹è¯•æ–‡ä»¶ç¤ºä¾‹
  #       exclude: ^tests/

  # # è‡ªåŠ¨æ ¼å¼åŒ– JSON æ–‡ä»¶
  # - repo: https://github.com/pre-commit/mirrors-jsonlint
  #   rev: v1.8.0
  #   hooks:
  #     - id: jsonlint
  #       files: \.json$

  # # Python æ–‡æ¡£æ£€æŸ¥å·¥å…· docformatter
  # - repo: https://github.com/myint/docformatter
  #   rev: v1.4.1
  #   hooks:
  #     - id: docformatter
  #       args: [ --in-place ]  # è‡ªåŠ¨æ ¼å¼åŒ– docstring


# ci:
#   autofix_commit_msg: ğŸ¨ [pre-commit.ci] Auto format from pre-commit.com hooks
#   autoupdate_commit_msg: â¬† [pre-commit.ci] pre-commit autoupdate
